# 🗺️ 修正餐厅位置指南

## 问题说明

预设的餐厅坐标可能不够准确。现在你可以手动调整每家餐厅的精确位置！

---

## 🛠️ 解决方案

### 方案 1: 手动调整现有餐厅位置（推荐）⭐

**访问**: http://localhost:3000/admin/adjust-locations

#### 使用步骤：

1. **选择餐厅**
   - 下拉菜单中选择要调整的餐厅
   - ✓ = 已有位置，⚠ = 缺少位置

2. **在地图上点击**
   - 地图会显示奥克兰 CBD
   - 找到餐厅实际位置
   - 点击地图标记位置
   - 红色标记会出现在点击处

3. **保存位置**
   - 点击 **"Save Location"** 按钮
   - 看到 ✅ 成功提示

4. **重复操作**
   - 选择下一家餐厅
   - 调整位置
   - 保存

#### 提示：

- 🔍 可以缩放地图查看街道名
- 📍 尽量点击餐厅实际位置
- 💾 每次只调整一家，保存后再选下一家

---

### 方案 2: 添加新餐厅时选择位置

**访问**: http://localhost:3000/restaurants/new

#### 新功能：

在添加餐厅表单中，现在有：

```
┌─────────────────────────┐
│  餐厅名称               │
│  菜系类型               │
│  ...                    │
├─────────────────────────┤
│  📍 餐厅位置            │
│  (点击地图选择)         │
├─────────────────────────┤
│                         │
│     🗺️ 地图            │
│     (点击选择位置)      │
│                         │
├─────────────────────────┤
│  选中坐标: -36.xxx, ... │
└─────────────────────────┘
```

**操作**：
1. 填写餐厅基本信息
2. 滚动到"餐厅位置"部分
3. 在地图上点击餐厅位置
4. 保存餐厅（位置自动保存）

---

## 🎯 修正所有餐厅的建议流程

### 快速方法（10-15分钟）

1. **打开调整工具**
   ```
   http://localhost:3000/admin/adjust-locations
   ```

2. **准备参考**
   - 打开 Google Maps 或其他地图应用
   - 搜索餐厅名称获取准确位置

3. **逐个调整**
   ```
   选择餐厅 → 找到位置 → 点击地图 → 保存
   重复 30 次（每家约 30 秒）
   ```

4. **验证**
   - 返回主页
   - 切换到地图视图
   - 检查餐厅位置是否正确

---

## 🗺️ 奥克兰 CBD 参考坐标

**中心位置**: 
- 纬度: -36.8485
- 经度: 174.7633

**街道参考**：

| 街道 | 大约位置 |
|------|---------|
| Queen Street (北段) | -36.844, 174.763 |
| Queen Street (南段) | -36.852, 174.764 |
| Lorne Street | -36.847, 174.760 |
| High Street | -36.847, 174.767 |
| Shortland Street | -36.846, 174.764 |
| Fort Street | -36.846, 174.765 |
| Federal Street | -36.848, 174.762 |

**使用提示**：
- 奥克兰 CBD 大约在 -36.84 到 -36.85 纬度范围
- 经度在 174.76 到 174.77 范围
- 数字越小越往北/西

---

## 🎨 地图视图改进

### 当前特性

- ✅ 视图切换（列表/地图）
- ✅ 点击标记查看餐厅详情
- ✅ 筛选功能同步
- ✅ 移动端友好

### 弹出窗口内容

点击地图标记显示：
- 📸 餐厅照片
- 📝 餐厅名称
- 🍽️ 菜系类型和价格
- 📍 距离信息
- 📬 地址
- 💬 备注
- 🔗 "View Details" 链接

---

## 💡 实用技巧

### 技巧 1: 使用 Google Maps 辅助

1. 在 Google Maps 搜索餐厅
2. 右键点击位置 → "这是什么？"
3. 复制显示的坐标
4. 在我们的地图上找到对应位置点击

### 技巧 2: 批量调整同一街道

1. 先调整一家作为参考
2. 同街道的餐厅位置相近
3. 微调即可

### 技巧 3: 优先调整常去的餐厅

1. 先调整团队常去的餐厅
2. 确保位置最准确
3. 其他餐厅可以慢慢调整

---

## 🔧 常见问题

### Q: 我不知道餐厅确切位置怎么办？

**A**: 
1. Google "餐厅名 + Auckland"
2. 查看 Google Maps 结果
3. 记下街道位置
4. 在我们的地图上找到对应街道点击

### Q: 调整后地图还是不对？

**A**: 
1. 刷新浏览器
2. 检查坐标是否保存（查看餐厅详情页）
3. 重新点击地图选择位置

### Q: 可以用GPS获取当前位置吗？

**A**: 
- 目前暂不支持
- 计划在未来版本添加
- 当前请手动在地图上点击

---

## 📊 统计信息

调整位置页面会显示：
- **With Location**: 已有位置的餐厅数量（绿色）
- **Missing Location**: 缺少位置的餐厅数量（红色）

目标：让所有餐厅都有✓标记！

---

## 🎯 完成检查清单

- [ ] 执行了数据库 SQL（添加坐标列）
- [ ] 访问 `/admin/adjust-locations` 页面
- [ ] 调整至少 5 家常去餐厅的位置
- [ ] 保存成功
- [ ] 返回主页查看地图视图
- [ ] 标记位置正确

---

## 🚀 快速开始

```bash
# 1. 确保数据库已更新（执行 SQL）
# 2. 访问调整工具
http://localhost:3000/admin/adjust-locations

# 3. 选择餐厅 → 点击地图 → 保存
# 4. 重复 30 次

# 5. 查看地图效果
http://localhost:3000  →  点击"地图"标签
```

---

**建议时间**: 10-15 分钟完成所有调整  
**难度**: ⭐⭐☆☆☆  
**效果**: ⭐⭐⭐⭐⭐

